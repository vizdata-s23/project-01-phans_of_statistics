#| include: false
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
library(dplyr)
library(ggplot2)
library(tidyverse)
library(ggridges)
eurovision <- read.csv("data/eurovision.csv")
#| echo: false
eurovision %>%
count(year) %>%
ggplot(aes(x = year, y = n)) +
geom_bar(stat = "identity") +
labs(x = "Year",
y = "Number of participating countries", color = "Decade",
title = "More countries have joined Eurovision over time")
# grouped by decade
euro_by_decade <- eurovision |>
filter(year != "2020") |>
mutate(decade = case_when(year %in% 1950:1959 ~ "1950s",
year %in% 1960:1969 ~ "1960s",
year %in% 1970:1979 ~ "1970s",
year %in% 1980:1989 ~ "1980s",
year %in% 1990:1999 ~ "1990s",
year %in% 2000:2009 ~ "2000s",
year %in% 2010:2019 ~ "2010s",
year %in% 2020:2022 ~ "2020s")) |>
mutate(from_host_country = case_when(host_country == artist_country ~ "yes",
host_country != artist_country ~ "no"))
# grouped by more arbitrary eras (pre 80s, 80s-90s, 2000s, 2010s-present)
eurovision_eras <- eurovision |>
filter(year != "2020") |>
mutate(era = case_when(year %in% 1956:1979 ~ "1956-1979",
year %in% 1980:1999 ~ "1980-1999",
year %in% 2000:2010 ~ "2000-2010",
year %in% 2011:2022 ~ "2011-2022")) |>
mutate(from_host_country = case_when(host_country == artist_country ~ "yes",
host_country != artist_country ~ "no"))
eurovision_eras |>
count(era, sort = TRUE)
eurovision_eras |>
count(from_host_country, rank, sort = TRUE)
#| echo: false
#ggplot(eurovision_eras, aes(x = total_points, y = from_host_country)) +
#  geom_density_ridges()
euro_by_decade %>%
filter(from_host_country == "yes") %>%
ggplot(aes(x = rank, y = decade)) +
geom_density_ridges()
#| echo: false
View(eurovision)
#| include: false
eurovision_text <- eurovision |>
arrange(desc(total_points)) |>
slice(1:3)
euro_decades <- eurovision |>
mutate(decade = case_when(year %in% 1950:1967 ~ "1950-67",
year %in% 1968:1986 ~ "1968-85",
year %in% 1987:2005 ~ "1986-2003",
year %in% 2005:2022 ~ "2004-22")) |>
drop_na(total_points)
euro_pct <- eurovision |>
group_by(event) |>
mutate(total_points_pct = total_points / sum(total_points))
# euro_decades <- eurovision |>
#   mutate(decade = case_when(year %in% 1950:1959 ~ "1950s",
#                             year %in% 1960:1969 ~ "1960s",
#                             year %in% 1970:1979 ~ "1970s",
#                             year %in% 1980:1989 ~ "1980s",
#                             year %in% 1990:1999 ~ "1990s",
#                             year %in% 2000:2009 ~ "2000s",
#                             year %in% 2010:2019 ~ "2010s",
#                             year %in% 2020:2022 ~ "2020s")) |>
#   drop_na(total_points)
View(euro_pct)
#| include: false
eurovision_text <- eurovision |>
arrange(desc(total_points)) |>
slice(1:3)
euro_decades <- eurovision |>
mutate(decade = case_when(year %in% 1950:1967 ~ "1950-67",
year %in% 1968:1986 ~ "1968-85",
year %in% 1987:2005 ~ "1986-2003",
year %in% 2005:2022 ~ "2004-22")) |>
drop_na(total_points)
euro_pct <- eurovision |>
group_by(event, total_points) |>
mutate(total_points_pct = total_points / sum(total_points))
# euro_decades <- eurovision |>
#   mutate(decade = case_when(year %in% 1950:1959 ~ "1950s",
#                             year %in% 1960:1969 ~ "1960s",
#                             year %in% 1970:1979 ~ "1970s",
#                             year %in% 1980:1989 ~ "1980s",
#                             year %in% 1990:1999 ~ "1990s",
#                             year %in% 2000:2009 ~ "2000s",
#                             year %in% 2010:2019 ~ "2010s",
#                             year %in% 2020:2022 ~ "2020s")) |>
#   drop_na(total_points)
View(euro_pct)
#| include: false
eurovision_text <- eurovision |>
arrange(desc(total_points)) |>
slice(1:3)
euro_decades <- eurovision |>
mutate(decade = case_when(year %in% 1950:1967 ~ "1950-67",
year %in% 1968:1986 ~ "1968-85",
year %in% 1987:2005 ~ "1986-2003",
year %in% 2005:2022 ~ "2004-22")) |>
drop_na(total_points)
euro_pct <- eurovision |>
group_by(event) |>
mutate(total_points_pct = total_points / sum(total_points))
# euro_decades <- eurovision |>
#   mutate(decade = case_when(year %in% 1950:1959 ~ "1950s",
#                             year %in% 1960:1969 ~ "1960s",
#                             year %in% 1970:1979 ~ "1970s",
#                             year %in% 1980:1989 ~ "1980s",
#                             year %in% 1990:1999 ~ "1990s",
#                             year %in% 2000:2009 ~ "2000s",
#                             year %in% 2010:2019 ~ "2010s",
#                             year %in% 2020:2022 ~ "2020s")) |>
#   drop_na(total_points)
euro_pct |>
#| include: false
eurovision_text <- eurovision |>
arrange(desc(total_points)) |>
slice(1:3)
#| include: false
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
library(dplyr)
library(ggplot2)
library(tidyverse)
library(ggridges)
eurovision <- read.csv("data/eurovision.csv")
#| echo: false
eurovision %>%
count(year) %>%
ggplot(aes(x = year, y = n)) +
geom_bar(stat = "identity") +
labs(x = "Year",
y = "Number of participating countries", color = "Decade",
title = "More countries have joined Eurovision over time")
# grouped by decade
euro_by_decade <- eurovision |>
filter(year != "2020") |>
mutate(decade = case_when(year %in% 1950:1959 ~ "1950s",
year %in% 1960:1969 ~ "1960s",
year %in% 1970:1979 ~ "1970s",
year %in% 1980:1989 ~ "1980s",
year %in% 1990:1999 ~ "1990s",
year %in% 2000:2009 ~ "2000s",
year %in% 2010:2019 ~ "2010s",
year %in% 2020:2022 ~ "2020s")) |>
mutate(from_host_country = case_when(host_country == artist_country ~ "yes",
host_country != artist_country ~ "no"))
# grouped by more arbitrary eras (pre 80s, 80s-90s, 2000s, 2010s-present)
eurovision_eras <- eurovision |>
filter(year != "2020") |>
mutate(era = case_when(year %in% 1956:1979 ~ "1956-1979",
year %in% 1980:1999 ~ "1980-1999",
year %in% 2000:2010 ~ "2000-2010",
year %in% 2011:2022 ~ "2011-2022")) |>
mutate(from_host_country = case_when(host_country == artist_country ~ "yes",
host_country != artist_country ~ "no"))
eurovision_eras |>
count(era, sort = TRUE)
eurovision_eras |>
count(from_host_country, rank, sort = TRUE)
#| echo: false
#ggplot(eurovision_eras, aes(x = total_points, y = from_host_country)) +
#  geom_density_ridges()
euro_by_decade %>%
filter(from_host_country == "yes") %>%
ggplot(aes(x = rank, y = decade)) +
geom_density_ridges() +
labs(x = "Rank",
y = "Decade",
title = "Distribution of home country participants' ranks by decade")
#| echo: false
#| include: false
eurovision_text <- eurovision |>
arrange(desc(total_points)) |>
slice(1:3)
euro_decades <- eurovision |>
mutate(year_group = case_when(year %in% 1950:1967 ~ "1950-67",
year %in% 1968:1986 ~ "1968-85",
year %in% 1987:2005 ~ "1986-2003",
year %in% 2005:2022 ~ "2004-22")) |>
drop_na(total_points)
euro_pct <- eurovision |>
group_by(event) |>
mutate(total_points_pct = total_points / sum(total_points))
